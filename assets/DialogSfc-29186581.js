import{i as Ce,j as we,f as he,p as $e,k as E,l as Se,m as Pe,n as be,o as ke}from"./loading-aa03f27c.js";import{E as $,d,c as M,h as _e,e as a,w as z,f as se,G as Be,H as le,I as ie,s as Te,o as Ee,J as Ie,K as Ae,t as ce,L as je}from"./elevation-8c8294a2.js";import{r as b,o as p,j as h,w as g,e as C,C as I,n as c,q as v,k as S,t as P,p as R,l as w,d as F,f as q,D as A,G as D,y as Ne,i as ze,O as De,c as V,x as J,b as j,M as Ve,T as Ue,K as Le,P as Re}from"./index-c9eda65c.js";var qe=Object.defineProperty,Z=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Q=(e,o,n)=>o in e?qe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Fe=(e,o)=>{for(var n in o||(o={}))Ge.call(o,n)&&Q(e,n,o[n]);if(Z)for(var n of Z(o))Me.call(o,n)&&Q(e,n,o[n]);return e};const ue=Fe({show:Boolean,width:[Number,String],title:String,message:String,messageAlign:{type:String,default:"left"},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:String,cancelButtonText:String,confirmButtonTextColor:String,cancelButtonTextColor:String,confirmButtonColor:String,cancelButtonColor:String,dialogClass:String,dialogStyle:Object,onBeforeClose:d(),onConfirm:d(),onCancel:d(),"onUpdate:show":d()},$(Ce,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));var Ke=Object.defineProperty,W=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,X=(e,o,n)=>o in e?Ke(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Je=(e,o)=>{for(var n in o||(o={}))Ye.call(o,n)&&X(e,n,o[n]);if(W)for(var n of W(o))He.call(o,n)&&X(e,n,o[n]);return e};const{name:Ze,n:Qe,classes:We}=M("dialog");function Xe(e,o){const n=b("var-button"),t=b("var-popup");return p(),h(t,{class:c(e.n("popup")),"var-dialog-cover":"",show:e.popupShow,overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.popupCloseOnClickOverlay,teleport:e.teleport,onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange,onClickOverlay:e.handleClickOverlay},{default:g(()=>[C("div",I({class:e.classes(e.n("$--box"),e.n(),e.dialogClass),style:Je({width:e.toSizeUnit(e.width)},e.dialogStyle)},e.$attrs),[C("div",{class:c(e.n("title"))},[v(e.$slots,"title",{},()=>{var r;return[S(P((r=e.title)!=null?r:e.pack.dialogTitle),1)]})],2),C("div",{class:c(e.n("message")),style:R({textAlign:e.messageAlign})},[v(e.$slots,"default",{},()=>[S(P(e.message),1)])],6),C("div",{class:c(e.n("actions"))},[e.cancelButton?(p(),h(n,{key:0,class:c(e.classes(e.n("button"),e.n("cancel-button"))),"var-dialog-cover":"",text:"","text-color":e.cancelButtonTextColor,color:e.cancelButtonColor,onClick:e.cancel},{default:g(()=>{var r;return[S(P((r=e.cancelButtonText)!=null?r:e.pack.dialogCancelButtonText),1)]}),_:1},8,["class","text-color","color","onClick"])):w("v-if",!0),e.confirmButton?(p(),h(n,{key:1,class:c(e.classes(e.n("button"),e.n("confirm-button"))),"var-dialog-cover":"",text:"","text-color":e.confirmButtonTextColor,color:e.confirmButtonColor,onClick:e.confirm},{default:g(()=>{var r;return[S(P((r=e.confirmButtonText)!=null?r:e.pack.dialogConfirmButtonText),1)]}),_:1},8,["class","text-color","color","onClick"])):w("v-if",!0)],2)],16)]),_:3},8,["class","show","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange","onClickOverlay"])}const de=F({name:Ze,components:{VarPopup:we,VarButton:he},inheritAttrs:!1,props:ue,setup(e){const o=q(!1),n=q(!1);A(()=>e.show,s=>{o.value=s},{immediate:!0}),A(()=>e.closeOnClickOverlay,s=>{if(e.onBeforeClose!=null){n.value=!1;return}n.value=s},{immediate:!0});function t(){return a(e["onUpdate:show"],!1)}function r(){const{closeOnClickOverlay:s,onClickOverlay:O,onBeforeClose:T}=e;if(a(O),!!s){if(T!=null){a(T,"close",t);return}a(e["onUpdate:show"],!1)}}function i(){const{onBeforeClose:s,onConfirm:O}=e;if(a(O),s!=null){a(s,"confirm",t);return}a(e["onUpdate:show"],!1)}function y(){const{onBeforeClose:s,onCancel:O}=e;if(a(O),s!=null){a(s,"cancel",t);return}a(e["onUpdate:show"],!1)}return{pack:$e,popupShow:o,popupCloseOnClickOverlay:n,n:Qe,classes:We,handleClickOverlay:r,confirm:i,cancel:y,toSizeUnit:_e}}});de.render=Xe;var B=de,xe=Object.defineProperty,eo=Object.defineProperties,oo=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,ee=(e,o,n)=>o in e?xe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,U=(e,o)=>{for(var n in o||(o={}))no.call(o,n)&&ee(e,n,o[n]);if(x)for(var n of x(o))to.call(o,n)&&ee(e,n,o[n]);return e},ro=(e,o)=>eo(e,oo(o));let f,N={};function ao(e={}){return ie(e)?ro(U({},N),{message:e}):U(U({},N),e)}function m(e){return Be()?new Promise(o=>{m.close();const n=ao(e),t=D(n);t.teleport="body",f=t;const{unmountInstance:r}=le(B,t,{onConfirm:()=>{a(t.onConfirm),o("confirm")},onCancel:()=>{a(t.onCancel),o("cancel")},onClose:()=>{a(t.onClose),o("close")},onClosed:()=>{a(t.onClosed),r(),f===t&&(f=null)},onRouteChange:()=>{r(),f===t&&(f=null)},"onUpdate:show":i=>{t.show=i}});t.show=!0}):Promise.resolve()}m.setDefaultOptions=function(e){N=e};m.resetDefaultOptions=function(){N={}};m.close=function(){if(f!=null){const e=f;f=null,Ne().then(()=>{e.show=!1})}};m.Component=B;z(B);z(B,m);se(m,ue);const zo=B;var Do=m,so=Object.defineProperty,lo=Object.defineProperties,io=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable,ne=(e,o,n)=>o in e?so(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,po=(e,o)=>{for(var n in o||(o={}))co.call(o,n)&&ne(e,n,o[n]);if(oe)for(var n of oe(o))uo.call(o,n)&&ne(e,n,o[n]);return e},fo=(e,o)=>lo(e,io(o));const K={type:String,position:{type:String,default:"top"},content:[String,Function,Object],contentClass:String,duration:{type:Number,default:3e3},vertical:Boolean,loadingType:$(E,"type"),loadingSize:$(E,"size"),loadingRadius:$(E,"radius"),loadingColor:fo(po({},$(E,"color")),{default:"currentColor"}),lockScroll:Boolean,show:Boolean,teleport:{type:[String,Object,Boolean],default:"body"},forbidClick:Boolean,onOpen:d(),onOpened:d(),onClose:d(),onClosed:d(),"onUpdate:show":d(),_update:String},{n:vo,classes:mo}=M("snackbar"),yo={success:"checkbox-marked-circle",warning:"warning",info:"information",error:"error",loading:""};function Oo(e,o){const n=b("var-icon"),t=b("var-loading");return ze((p(),V("div",{class:c(e.n()),style:R({pointerEvents:e.isForbidClick?"auto":"none",zIndex:e.zIndex})},[C("div",{class:c(e.classes(e.n("wrapper"),e.n(`wrapper-${e.position}`),e.n("$-elevation--4"),[e.vertical,e.n("vertical")],[e.type&&e.SNACKBAR_TYPE.includes(e.type),e.n(`wrapper-${e.type}`)])),style:R({zIndex:e.zIndex})},[C("div",{class:c([e.n("content"),e.contentClass])},[v(e.$slots,"default",{},()=>[S(P(e.content),1)])],2),e.iconName||e.type==="loading"||e.$slots.icon?(p(),V("div",{key:0,class:c(e.n("icon"))},[e.iconName?(p(),h(n,{key:0,name:e.iconName},null,8,["name"])):w("v-if",!0),e.type==="loading"?(p(),h(t,{key:1,type:e.loadingType,size:e.loadingSize,color:e.loadingColor,radius:e.loadingRadius},null,8,["type","size","color","radius"])):w("v-if",!0),v(e.$slots,"icon")],2)):w("v-if",!0),e.$slots.action?(p(),V("div",{key:1,class:c(e.n("action"))},[v(e.$slots,"action")],2)):w("v-if",!0)],6)],6)),[[De,e.show]])}const pe=F({name:"VarSnackbarCore",components:{VarLoading:Se,VarIcon:Te},props:K,setup(e){const o=q(null),{zIndex:n}=Pe(()=>e.show,1);be(()=>e.show,()=>e.lockScroll);const t=J(()=>{const{type:y,forbidClick:s}=e;return y==="loading"||s}),r=J(()=>e.type?yo[e.type]:"");function i(){o.value=setTimeout(()=>{e.type!=="loading"&&a(e["onUpdate:show"],!1)},e.duration)}return A(()=>e.show,y=>{y?(a(e.onOpen),i()):(clearTimeout(o.value),a(e.onClose))}),A(()=>e._update,()=>{clearTimeout(o.value),i()}),Ee(()=>{e.show&&(a(e.onOpen),i())}),{SNACKBAR_TYPE:me,zIndex:n,iconName:r,isForbidClick:t,n:vo,classes:mo}}});pe.render=Oo;var fe=pe;const{name:go,n:Co}=M("snackbar");function wo(e,o){const n=b("var-snackbar-core");return p(),h(Le,{to:e.teleport===!1?void 0:e.teleport,disabled:e.disabled||e.teleport===!1},[j(Ue,{name:`${e.n()}-fade`,onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:g(()=>[j(n,I(e.$props,{class:e.n("transition")}),Ve({default:g(()=>[v(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:g(()=>[v(e.$slots,"icon")]),key:"0"}:void 0,e.$slots.action?{name:"action",fn:g(()=>[v(e.$slots,"action")]),key:"1"}:void 0]),1040,["class"])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}const ve=F({name:go,components:{VarSnackbarCore:fe},props:K,setup(){const{disabled:e}=Ie();return{disabled:e,n:Co}}});ve.render=wo;var Y=ve,ho=Object.defineProperty,te=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,So=Object.prototype.propertyIsEnumerable,re=(e,o,n)=>o in e?ho(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,k=(e,o)=>{for(var n in o||(o={}))$o.call(o,n)&&re(e,n,o[n]);if(te)for(var n of te(o))So.call(o,n)&&re(e,n,o[n]);return e};const me=["loading","success","warning","info","error"];let ae=0,G=!1,ye,_=!1;const Oe={type:void 0,content:"",icon:"",action:"",position:"top",duration:3e3,vertical:!1,contentClass:void 0,loadingType:"circle",loadingSize:"normal",lockScroll:!1,teleport:"body",forbidClick:!1,onOpen:()=>{},onOpened:()=>{},onClose:()=>{},onClosed:()=>{}};let l=D([]),H=Oe;const Po={name:"var-snackbar-fade",tag:"div",class:"var-transition-group"},L=e=>()=>je(e)?e():e,bo={setup(){return()=>{const e=l.map(({id:o,reactiveSnackOptions:n,_update:t})=>{const r=document.querySelector(".var-transition-group");n.forbidClick||n.type==="loading"?r.classList.add("var-pointer-auto"):r.classList.remove("var-pointer-auto");const i=k({position:_?"relative":"absolute"},Io(n.position)),{content:y,icon:s,action:O}=n,T={default:L(y),icon:L(s),action:L(O)};return j(fe,I(n,{key:o,style:i,"data-id":o,_update:t,show:n.show,"onUpdate:show":ge=>n.show=ge}),T)});return j(Re,I(Po,{style:{zIndex:ke.zIndex},onAfterEnter:ko,onAfterLeave:_o}),{default:()=>[e]})}}},u=function(e){const o=To(e),n=D(k(k({},H),o));n.show=!0,G||(G=!0,ye=le(bo).unmountInstance);const{length:t}=l,r={id:ae++,reactiveSnackOptions:n};if(t===0||_)Bo(r);else{const i=`update-${ae}`;Eo(n,i)}return{clear(){!_&&l.length?l[0].reactiveSnackOptions.show=!1:n.show=!1}}};me.forEach(e=>{u[e]=o=>(Ae(o)?o.type=e:o={content:o,type:e},u(o))});u.allowMultiple=function(e=!1){e!==_&&(l.forEach(o=>{o.reactiveSnackOptions.show=!1}),_=e)};u.clear=function(){l.forEach(e=>{e.reactiveSnackOptions.show=!1})};u.setDefaultOptions=function(e){H=e};u.resetDefaultOptions=function(){H=Oe};function ko(e){const o=e.getAttribute("data-id"),n=l.find(t=>t.id===ce(o));n&&a(n.reactiveSnackOptions.onOpened)}function _o(e){e.parentElement&&e.parentElement.classList.remove("var-pointer-auto");const o=e.getAttribute("data-id"),n=l.find(r=>r.id===ce(o));n&&(n.animationEnd=!0,a(n.reactiveSnackOptions.onClosed)),l.every(r=>r.animationEnd)&&(a(ye),l=D([]),G=!1)}function Bo(e){l.push(e)}function To(e={}){return ie(e)?{content:e}:e}function Eo(e,o){const[n]=l;n.reactiveSnackOptions=k(k({},n.reactiveSnackOptions),e),n._update=o}function Io(e="top"){return e==="bottom"?{top:"85%"}:{top:e==="top"?"5%":"45%"}}u.Component=Y;z(Y);z(Y,u);se(u,K);var Vo=u;export{zo as _,Do as a,Vo as s};
