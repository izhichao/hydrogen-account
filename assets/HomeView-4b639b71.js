import{_ as j}from"./elevation-8c8294a2.js";import{_ as G}from"./loading-aa03f27c.js";import{_ as O}from"./DialogSfc-29186581.js";import{_ as P}from"./InputSfc-12f6b4c4.js";import{_ as J}from"./Calculator-48b1ec0b.js";import"./ButtonSfc-4ed993c7.js";import"./IconSfc-4ed993c7.js";import{_ as K,a as Q}from"./Header-a50ab88d.js";import{_ as W}from"./ListItem-86f0ac9a.js";import{_ as X,u as Y}from"./useChart-53c8b12e.js";import{_ as Z}from"./Circle-e3708541.js";import{d as ee,f as m,c as f,e as r,b as n,w as a,g as e,F as y,h as te,o as i,i as oe,v as ne,a as $,j as V,k as se,_ as ae}from"./index-c9eda65c.js";import{u as le}from"./useDealStore-7f0e9a3d.js";import{u as re}from"./useAccount-4de14887.js";import{g as ue}from"./getNow-e1064b64.js";import"./useAccountStore-99e6a6e5.js";const ie={class:"main-content"},pe={class:"card-list"},_e={class:"list"},me={class:"list"},ce=ee({__name:"HomeView",setup(de){var h;const{accountList:x,editAccountModel:l,handleEdit:b,handleDelete:L,handleShowEdit:M}=re(),{dealListGroup:D,orderDealList:S}=le(),{dayOptions:q}=Y(),{year:c,month:B,monthStr:d}=ue(),u=te(),R=((h=D("month",{time:`${c}-${d}`,type:"out"})[0])==null?void 0:h.total)||0,v=m(),E=()=>{v.value.handleShow()},p=m(!1),_=m(""),s=m(),H=()=>{p.value&&_.value?u.push({name:"List",query:{list:"deal",keyword:_.value}}):p.value?(s.value.style.opacity=0,s.value.style.width=0,s.value.style.padding=0,p.value=!1):(s.value.style.opacity=.9,s.value.style.width="90%",s.value.style.padding="0 15px",p.value=!0)};return(fe,o)=>{const I=Z,N=K,U=X,C=W,g=Q,z=j,k=G,A=J,w=P,F=O;return i(),f(y,null,[r("div",ie,[n(I),n(N,{title:"首页"},{center:a(()=>[oe(r("input",{type:"text",class:"header__input","onUpdate:modelValue":o[0]||(o[0]=t=>_.value=t),ref_key:"inputRef",ref:s},null,512),[[ne,_.value]])]),right:a(()=>[r("span",{class:"header__search iconfont",onClick:H},"")]),_:1}),r("div",pe,[n(U,{title:`${e(B)}月支出`,amount:e(R),option:e(q)(`${e(c)}-${e(d)}`),onMore:o[1]||(o[1]=t=>e(u).push({name:"Chart",query:{type:"day",time:`${e(c)}-${e(d)}`}}))},null,8,["title","amount","option"]),n(g,{title:"最近交易",onMore:o[2]||(o[2]=t=>e(u).push({name:"List",query:{list:"deal"}}))},{default:a(()=>[r("ul",_e,[(i(!0),f(y,null,$(e(S).slice(0,3),t=>(i(),V(C,{key:t.id,item:t,color:t.amount<0?"red":"blue",onMore:T=>e(u).push({name:"Detail",query:{type:"edit",id:t.id}})},null,8,["item","color","onMore"]))),128))])]),_:1}),n(g,{title:"所有账户",onMore:o[3]||(o[3]=t=>e(u).push({name:"List",query:{list:"account"}}))},{default:a(()=>[r("ul",me,[(i(!0),f(y,null,$(e(x),t=>(i(),V(C,{key:t.id,item:t,color:"blue",onClick:T=>e(M)(t.id)},null,8,["item","onClick"]))),128))])]),_:1})])]),n(k,{class:"btn",type:"primary",size:"large",round:"",onClick:E},{default:a(()=>[n(z,{name:"plus",class:"btn__icon"})]),_:1}),n(A,{ref_key:"calculatorRef",ref:v},null,512),n(F,{show:e(l).status,"onUpdate:show":o[6]||(o[6]=t=>e(l).status=t),onConfirm:e(b)},{default:a(()=>[n(w,{placeholder:"请输入新的账户名",modelValue:e(l).name,"onUpdate:modelValue":o[4]||(o[4]=t=>e(l).name=t)},null,8,["modelValue"]),n(w,{placeholder:"请输入余额",type:"number",modelValue:e(l).amount,"onUpdate:modelValue":o[5]||(o[5]=t=>e(l).amount=t),modelModifiers:{number:!0}},null,8,["modelValue"]),n(k,{text:"",outline:"",type:"primary",size:"mini",onClick:e(L)},{default:a(()=>[se("删除")]),_:1},8,["onClick"])]),_:1},8,["show","onConfirm"])],64)}}});const Be=ae(ce,[["__scopeId","data-v-8a0fbf33"]]);export{Be as default};
