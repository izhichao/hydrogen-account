import{b as ge,d as ve}from"./loading-aa03f27c.js";import{d as v,c as Q,s as be,C as F,r as Ce,o as X,D as ye,e as u,w as Y,f as Z,E as ce,F as ke,b as Se,p as we,t as Me}from"./elevation-8c8294a2.js";import{r as O,o as m,c as h,e as g,n as s,q as b,p,t as J,l as $,b as N,F as $e,j as Fe,K as Be,d as x,f as B,x as k,L as Ve,M as K,w as M,I as Ie,N as De,J as ze,y as Pe}from"./index-c9eda65c.js";const R={value:{type:null,required:!0},id:{type:String,default:""},isFocus:Boolean,size:{type:String,default:"normal"},variant:{type:String,default:"standard"},placeholder:String,line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:String,focusColor:String,blurColor:String,errorMessage:String,formDisabled:Boolean,disabled:Boolean,clearable:Boolean,cursor:String,composing:Boolean,onClick:v(),onClear:v()},{name:Te,n:E,classes:Ee}=Q("field-decorator"),Oe=["for"];function Ne(e,o){const a=O("var-icon");return m(),h("div",{class:s(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:o[0]||(o[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[g("div",{class:s(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:p({color:e.color,cursor:e.cursor,overflow:e.isFloating?"visible":"hidden"})},[g("div",{class:s(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[b(e.$slots,"prepend-icon")],2),g("div",{class:s(e.classes(e.n("middle"),[!e.hint,e.n("--middle-non-hint")]))},[b(e.$slots,"default")],2),e.placeholder&&e.hint?(m(),h("label",{key:0,class:s(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],e.computePlaceholderState())),style:p({color:e.color}),for:e.id},[g("span",null,J(e.placeholder),1)],14,Oe)):$("v-if",!0),g("div",{class:s(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?b(e.$slots,"clear-icon",{key:0},()=>[N(a,{class:s(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])]):$("v-if",!0),b(e.$slots,"append-icon")],2)],6),e.line?(m(),h($e,{key:0},[e.variant==="outlined"?(m(),h("fieldset",{key:0,class:s(e.classes(e.n("line"),[e.isFocus,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")])),style:p({borderColor:e.color})},[g("legend",{class:s(e.classes(e.n("line-legend"),[e.isFloating,e.n("line-legend--hint")])),style:p({width:e.legendWidth})},[e.placeholder&&e.hint?(m(),Fe(Be,{key:0,to:"body"},[g("span",{ref:"placeholderTextEl",class:s(e.classes(e.n("placeholder-text"),e.n("$--ellipsis"),[e.size==="small",e.n("placeholder-text--small")]))},J(e.placeholder),3)])):$("v-if",!0)],6)],6)):(m(),h("div",{key:1,class:s(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:p({background:e.errorMessage?void 0:e.blurColor})},[g("div",{class:s(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:p({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):$("v-if",!0)],2)}const _=x({name:Te,components:{VarIcon:be},props:R,setup(e,{slots:o}){const a=B(null),t=B(""),l=k(()=>e.hint&&(!F(e.value)||e.isFocus||o["prepend-icon"])),V=k(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor);Ce(y),X(y),Ve(y);function d(){const{hint:f,value:S,composing:w}=e;if(!f&&(!F(S)||w))return E("--placeholder-hidden");if(l.value)return E("--placeholder-hint")}function y(){const{size:f,hint:S,variant:w,placeholder:z}=e;if(!z||!S||w!=="outlined"){t.value="";return}const P=ye(a.value),j=`var(--field-decorator-outlined-${f}-placeholder-space)`;t.value=`calc(${P.width} * 0.75 + ${j} * 2)`}function I(f){u(e.onClear,f)}function D(f){u(e.onClick,f)}return{placeholderTextEl:a,color:V,legendWidth:t,isFloating:l,computePlaceholderState:d,n:E,classes:Ee,isEmpty:F,handleClear:I,handleClick:D}}});_.render=Ne;var U=_;Y(U);Z(U,R);var Re=U,Ue=Object.defineProperty,G=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,H=(e,o,a)=>o in e?Ue(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,qe=(e,o)=>{for(var a in o||(o={}))We.call(o,a)&&H(e,a,o[a]);if(G)for(var a of G(o))je.call(o,a)&&H(e,a,o[a]);return e};const ee=qe({modelValue:String,modelModifiers:{type:Object,default:()=>({})},type:{type:String,default:"text"},textarea:Boolean,rows:{type:[String,Number],default:8},maxlength:[String,Number],readonly:Boolean,resize:Boolean,autofocus:Boolean,validateTrigger:{type:Array,default:()=>["onInput","onClear"]},rules:Array,enterkeyhint:String,onFocus:v(),onBlur:v(),onInput:v(),onChange:v(),onClear:v(),"onUpdate:modelValue":v()},ce(R,["size","variant","placeholder","line","hint","textColor","focusColor","blurColor","disabled","clearable","onClick"])),{name:Ae,n:Le,classes:Je}=Q("input"),Ke=["placeholder","enterkeyhint"],Ge=["id","disabled","readonly","type","value","placeholder","maxlength","rows","enterkeyhint","inputmode"],He=["id","disabled","readonly","type","value","placeholder","maxlength","enterkeyhint","inputmode"];function Qe(e,o){const a=O("var-field-decorator"),t=O("var-form-details");return m(),h("div",{class:s(e.classes(e.n(),e.n("$--box"))),onMousedown:o[13]||(o[13]=(...l)=>e.handleMousedown&&e.handleMousedown(...l))},[N(a,Ie(De({value:e.modelValue,id:e.id,size:e.size,variant:e.variant,placeholder:e.placeholder,line:e.line,hint:e.hint,textColor:e.textColor,focusColor:e.focusColor,blurColor:e.blurColor,isFocus:e.isFocus,errorMessage:e.errorMessage,formDisabled:e.formDisabled,disabled:e.disabled,clearable:e.clearable,cursor:e.cursor,composing:e.isComposing,onClick:e.handleClick,onClear:e.handleClear})),K({"clear-icon":M(()=>[b(e.$slots,"clear-icon")]),"append-icon":M(()=>[b(e.$slots,"append-icon")]),default:M(()=>[e.normalizedType==="password"?(m(),h("input",{key:0,tabindex:"-1",class:s(e.n("autocomplete")),placeholder:e.hint?void 0:e.placeholder,style:p({"--input-placeholder-color":e.placeholderColor}),enterkeyhint:e.enterkeyhint},null,14,Ke)):$("v-if",!0),e.textarea?(m(),h("textarea",{key:1,class:s(e.classes(e.n("input"),e.n("--textarea"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled,readonly:e.formReadonly||e.readonly,type:e.normalizedType,value:e.modelValue,placeholder:e.hint?void 0:e.placeholder,maxlength:e.maxlength,rows:e.rows,enterkeyhint:e.enterkeyhint,inputmode:e.type==="number"?"numeric":void 0,style:p({color:e.errorMessage?void 0:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor,resize:e.resize?"vertical":"none","--input-placeholder-color":e.placeholderColor}),onFocus:o[0]||(o[0]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:o[1]||(o[1]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onInput:o[2]||(o[2]=(...l)=>e.handleInput&&e.handleInput(...l)),onChange:o[3]||(o[3]=(...l)=>e.handleChange&&e.handleChange(...l)),onCompositionstart:o[4]||(o[4]=(...l)=>e.handleCompositionStart&&e.handleCompositionStart(...l)),onCompositionend:o[5]||(o[5]=(...l)=>e.handleCompositionEnd&&e.handleCompositionEnd(...l))},null,46,Ge)):(m(),h("input",{key:2,class:s(e.classes(e.n("input"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled,readonly:e.formReadonly||e.readonly,type:e.normalizedType,value:e.modelValue,placeholder:e.hint?void 0:e.placeholder,maxlength:e.maxlength,enterkeyhint:e.enterkeyhint,inputmode:e.type==="number"?"numeric":void 0,style:p({color:e.errorMessage?void 0:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor,"--input-placeholder-color":e.placeholderColor}),onFocus:o[6]||(o[6]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:o[7]||(o[7]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onInput:o[8]||(o[8]=(...l)=>e.handleInput&&e.handleInput(...l)),onChange:o[9]||(o[9]=(...l)=>e.handleChange&&e.handleChange(...l)),onCompositionstart:o[10]||(o[10]=(...l)=>e.handleCompositionStart&&e.handleCompositionStart(...l)),onCompositionend:o[11]||(o[11]=(...l)=>e.handleCompositionEnd&&e.handleCompositionEnd(...l))},null,46,He))]),_:2},[e.$slots["prepend-icon"]?{name:"prepend-icon",fn:M(()=>[b(e.$slots,"prepend-icon")]),key:"0"}:void 0]),1040),N(t,{"error-message":e.errorMessage,"extra-message":e.maxlengthText,onMousedown:o[12]||(o[12]=ze(()=>{},["stop"]))},K({_:2},[e.$slots["extra-message"]?{name:"extra-message",fn:M(()=>[b(e.$slots,"extra-message")]),key:"0"}:void 0]),1032,["error-message","extra-message"])],34)}const oe=x({name:Ae,components:{VarFormDetails:ge,VarFieldDecorator:Re},props:ee,setup(e){const o=ke(),a=B(null),t=B(!1),l=B(!1),{bindForm:V,form:d}=ve(),{errorMessage:y,validateWithTrigger:I,validate:D,resetValidation:f}=Se(),S=k(()=>e.disabled||e.readonly?"":"text"),w=k(()=>e.type==="number"?"text":e.type),z=k(()=>{const{maxlength:n,modelValue:r}=e;return n?F(r)?`0 / ${n}`:`${String(r).length}/${n}`:""}),P=k(()=>{const{hint:n,blurColor:r,focusColor:i}=e;if(!n)return y.value?"var(--field-decorator-error-color)":t.value?i||"var(--field-decorator-focus-color)":r||"var(--field-decorator-placeholder-color, var(--field-decorator-blur-color))"});u(V,{reset:A,validate:L,resetValidation:f}),X(()=>{e.autofocus&&T()});function c(n){Pe(()=>{const{validateTrigger:r,rules:i,modelValue:C}=e;I(r,n,i,C)})}function ne(n){t.value=!0,u(e.onFocus,n),c("onFocus")}function le(n){t.value=!1,u(e.onBlur,n),c("onBlur")}function q(n){const r=n.target;let{value:i}=r;e.type==="number"&&(i=ue(i));const C=me(fe(i));return C===e.modelValue&&(r.value=C),C}function re(){l.value=!0}function ae(n){l.value&&(l.value=!1,n.target.dispatchEvent(new Event("input")))}function se(n){if(l.value)return;const r=q(n);u(e["onUpdate:modelValue"],r),u(e.onInput,r,n),c("onInput")}function ie(n){const r=q(n);u(e.onChange,r,n),c("onChange")}function de(){const{disabled:n,readonly:r,clearable:i,onClear:C}=e;d!=null&&d.disabled.value||d!=null&&d.readonly.value||n||r||!i||(u(e["onUpdate:modelValue"],""),u(C,""),c("onClear"))}function te(n){const{disabled:r,onClick:i}=e;d!=null&&d.disabled.value||r||(u(i,n),c("onClick"))}function ue(n){const r=n.indexOf("-"),i=n.indexOf(".");return r>-1&&(n=r===0?"-"+n.replace(/-/g,""):n.replace(/-/g,"")),i>-1&&(n=n.slice(0,i+1)+n.slice(i).replace(/\./g,"")),n.replace(/[^-0-9.]/g,"")}function fe(n){return e.modelModifiers.trim?n.trim():n}function me(n){return e.maxlength?n.slice(0,Me(e.maxlength)):n}function pe(n){const{disabled:r}=e;d!=null&&d.disabled.value||r||n.target===a.value||(T(),we(n))}function A(){u(e["onUpdate:modelValue"],""),f()}function L(){return D(e.rules,e.modelValue)}function T(){var n;(n=a.value)==null||n.focus()}function he(){a.value.blur()}return{el:a,id:o,isFocus:t,isComposing:l,errorMessage:y,placeholderColor:P,normalizedType:w,cursor:S,maxlengthText:z,formDisabled:d==null?void 0:d.disabled,formReadonly:d==null?void 0:d.readonly,n:Le,classes:Je,isEmpty:F,handleFocus:ne,handleBlur:le,handleInput:se,handleChange:ie,handleClear:de,handleClick:te,handleCompositionStart:re,handleCompositionEnd:ae,handleMousedown:pe,validate:L,resetValidation:f,reset:A,focus:T,blur:he}}});oe.render=Qe;var W=oe;Y(W);Z(W,ee);const xe=W;export{xe as _};
