import{_ as F}from"./loading-aa03f27c.js";import{s as C,_ as R,a as q}from"./DialogSfc-29186581.js";import{_ as A}from"./elevation-8c8294a2.js";import{_ as G}from"./InputSfc-12f6b4c4.js";import{_ as H}from"./space-7debd0d0.js";import{_ as J,a as P}from"./Header-a50ab88d.js";import{_ as z}from"./ListItem-86f0ac9a.js";import"./IconSfc-4ed993c7.js";import"./ButtonSfc-4ed993c7.js";import{d as K,s as O,G as Q,c as i,b as a,e as _,w as s,i as W,v as X,F as d,a as g,g as Y,h as Z,o as r,k as v,j as k,J as w,l as tt,_ as et}from"./index-c9eda65c.js";import{c as ot}from"./useDealStore-7f0e9a3d.js";/* empty css                    */const nt={class:"main-content"},at={class:"add"},st=K({__name:"CategoryView",setup(rt){const m=ot(),{categoryLists:h}=O(m),{addCategory:V,deleteCategory:b,editCategory:x}=m,t=Q({id:0,name:"",type:"out",status:!1}),c=n=>{t.type=n},$=n=>{if(!t.name){C("请输入分类名称");return}V(t.name,n),t.name=""},B=n=>{t.status=!0,t.id=n},S=()=>{if(!t.name){C("请输入新的分类名称");return}x(t.id,t.name),t.name="",t.status=!1},I=n=>{q("确认删除").then(e=>{e==="confirm"&&b(n)})},L=Z(),N=n=>{L.push({name:"List",query:{list:"deal",keyword:n}})};return(n,e)=>{const D=J,u=F,M=H,p=A,T=z,U=P,j=G,E=R;return r(),i(d,null,[a(D,{title:"分类",back:!0}),_("div",nt,[a(M,{justify:"space-around"},{default:s(()=>[a(u,{class:"switch-btn",type:t.type==="out"?"primary":"default",onClick:e[0]||(e[0]=o=>c("out"))},{default:s(()=>[v(" 支出 ")]),_:1},8,["type"]),a(u,{class:"switch-btn",type:t.type==="in"?"primary":"default",onClick:e[1]||(e[1]=o=>c("in"))},{default:s(()=>[v(" 收入 ")]),_:1},8,["type"])]),_:1}),_("div",at,[W(_("input",{type:"text",class:"add__input","onUpdate:modelValue":e[2]||(e[2]=o=>t.name=o)},null,512),[[X,t.name]]),a(u,{type:"primary",round:"",onClick:e[3]||(e[3]=o=>$(t.type))},{default:s(()=>[a(p,{name:"plus"})]),_:1})]),(r(!0),i(d,null,g(Y(h),(o,f)=>(r(),i(d,null,[o.length!==0?(r(),k(U,{key:0,title:f==="out"?"支出":"收入",more:!1},{default:s(()=>[(r(!0),i(d,null,g(o,l=>(r(),k(T,{key:l.id,item:l,button:!0,color:f==="out"?"red":"blue",onClick:y=>N(l.name)},{default:s(()=>[a(p,{name:"cog",class:"btn",onClick:w(y=>B(l.id),["stop"])},null,8,["onClick"]),a(p,{name:"delete",class:"delete",onClick:w(y=>I(l.id),["stop"])},null,8,["onClick"])]),_:2},1032,["item","color","onClick"]))),128))]),_:2},1032,["title"])):tt("",!0)],64))),256)),a(E,{show:t.status,"onUpdate:show":e[5]||(e[5]=o=>t.status=o),onConfirm:S},{default:s(()=>[a(j,{placeholder:"请输入新的分类名",modelValue:t.name,"onUpdate:modelValue":e[4]||(e[4]=o=>t.name=o)},null,8,["modelValue"])]),_:1},8,["show"])])],64)}}});const vt=et(st,[["__scopeId","data-v-d86293a0"]]);export{vt as default};
