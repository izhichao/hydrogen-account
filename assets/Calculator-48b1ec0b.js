import{e as _PopupComponent,g as _RippleComponent}from"./loading-aa03f27c.js";import"./elevation-8c8294a2.js";import{d as defineComponent,u as useRoute,h as useRouter,f as ref,o as openBlock,j as createBlock,w as withCtx,e as createBaseVNode,i as withDirectives,v as vModelText,c as createElementBlock,a as renderList,n as normalizeClass,k as createTextVNode,t as toDisplayString,F as Fragment,_ as _export_sfc}from"./index-c9eda65c.js";const _hoisted_1={class:"calculator"},_hoisted_2={class:"calculator__result"},_hoisted_3={class:"calculator__btns"},_hoisted_4=["onClick"],_sfc_main=defineComponent({__name:"Calculator",props:{amount:{type:String,default:""}},emits:["result"],setup(__props,{expose:__expose,emit:__emit}){const props=__props,btns=["C","/","*","DEL","1","2","3","-","4","5","6","+","7","8","9","OK","0","."],route=useRoute(),router=useRouter(),show=ref(!1),emits=__emit,handleShow=()=>{show.value=!0},result=ref(props.amount),handleClickBtn=str=>{const lastOne=result.value[result.value.length-1];if(["-Infinity","Infinity"].includes(result.value)&&(result.value=""),["0","1","2","3","4","5","6","7","8","9"].includes(str))result.value+=str;else if(["+","-","*","/"].includes(str))if(result.value.length)[".","+","-","*","/"].includes(lastOne)?result.value=result.value.slice(0,-1)+str:result.value+=str;else return;else if(str==="DEL")result.value=result.value.slice(0,-1);else if(str==="C")result.value="";else if(str===".")if(!result.value.length||["+","-","*","/"].includes(lastOne))result.value+="0.";else{if(lastOne===".")return;result.value+=str}else["+","-","*","/"].some(s=>result.value.includes(s))?result.value=(+eval(result.value).toFixed(2)).toString():route.name==="Home"?router.push({name:"Detail",query:{type:"add",result:result.value||"0"}}):route.name==="Detail"&&(emits("result",result.value||"0"),show.value=!1)};return __expose({handleShow}),(s,t)=>{const l=_PopupComponent,o=_RippleComponent;return openBlock(),createBlock(l,{position:"bottom",show:show.value,"onUpdate:show":t[1]||(t[1]=e=>show.value=e)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>result.value=e)},null,512),[[vModelText,result.value]])]),createBaseVNode("div",_hoisted_3,[(openBlock(),createElementBlock(Fragment,null,renderList(btns,e=>withDirectives(createBaseVNode("span",{key:e,class:normalizeClass({calculator__btn:!0,calculator__btn__ok:e==="OK",calculator__btn__zero:e==="0"}),onClick:a=>handleClickBtn(e)},[createTextVNode(toDisplayString(e),1)],10,_hoisted_4),[[o]])),64))])])]),_:1},8,["show"])}}}),Calculator_vue_vue_type_style_index_0_scoped_2ab6919b_lang="",__unplugin_components_9=_export_sfc(_sfc_main,[["__scopeId","data-v-2ab6919b"]]);export{__unplugin_components_9 as _};
