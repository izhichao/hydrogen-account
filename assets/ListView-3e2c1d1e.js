import{_ as K,g as O}from"./loading-aa03f27c.js";import{_ as P}from"./elevation-8c8294a2.js";import{_ as Q}from"./DialogSfc-29186581.js";import"./ButtonSfc-4ed993c7.js";import{_ as W}from"./InputSfc-12f6b4c4.js";import"./IconSfc-4ed993c7.js";import{_ as X}from"./ListItem-86f0ac9a.js";import{_ as Y,a as Z}from"./Header-a50ab88d.js";import{d as ee,f as te,c as n,b as l,e as o,g as e,F as c,w as i,a as w,l as oe,u as ae,h as le,o as s,t as m,j as S,n as se,i as ne,k as de,z as ie,A as _e,_ as ue}from"./index-c9eda65c.js";import{u as re,a as ce,b}from"./useDealStore-7f0e9a3d.js";import{u as me}from"./useAccount-4de14887.js";import"./useAccountStore-99e6a6e5.js";const V=v=>(ie("data-v-8fcf10f1"),v=v(),_e(),v),pe={class:"main-content"},fe={class:"card-list"},ve={class:"total"},he=V(()=>o("div",{class:"total__title"},"交易数",-1)),ye={class:"total__amount"},Ce={class:"total"},Ve=V(()=>o("div",{class:"total__title"},"总支出",-1)),ge={class:"total__amount"},ke={class:"deal__day"},we={class:"deal__day__time"},be={class:"deal__day__total"},xe={class:"total"},Ae=V(()=>o("div",{class:"total__title"},"账户数",-1)),Le={class:"total__amount"},Se={class:"total"},De=V(()=>o("div",{class:"total__title"},"总支出",-1)),Me={class:"total__amount"},Ue=ee({__name:"ListView",setup(v){const D=ae(),M=le(),U=re(),{dealListGroup:B}=U,{addAccountModel:_,editAccountModel:u,accountList:I,accountAmount:N,totalAsset:z,handleShowAdd:x,handleAdd:E,handleShowEdit:R,handleEdit:q,handleDelete:F}=me();let{list:p,time:d,keyword:g}=D.query;const k=B("day",{time:d,keyword:g}),$=k.reduce((h,a)=>h+a.value.length,0),j=k.reduce((h,a)=>ce(b(h),b(a.total)),b(0)),r=te("所有交易");return p?p==="account"&&(r.value="所有账户"):p="deal",g?r.value=g:d&&(d.length===10?r.value=d.replace("-","年").replace("-","月")+"日":d.length===7?r.value=d.replace("-","年")+"月":r.value=d+"年"),(h,a)=>{const G=Y,y=Z,A=X,H=P,C=W,T=K,L=Q,J=O;return s(),n(c,null,[l(G,{title:r.value,back:!0},null,8,["title"]),o("div",pe,[o("div",fe,[e(p)==="deal"?(s(),n(c,{key:0},[l(y,{header:!1},{default:i(()=>[o("ul",null,[o("li",ve,[he,o("div",ye,m(e($)),1)]),o("li",Ce,[Ve,o("div",ge,m(e(j)),1)])])]),_:1}),(s(!0),n(c,null,w(e(k),t=>(s(),n("div",{class:"deal",key:t.name},[o("div",ke,[o("div",we,m(t.name.replace("-","年").replace("-","月")+"日"),1),o("div",be,m(t.total),1)]),l(y,{header:!1,class:se({"padding-small":t.value.length===1})},{default:i(()=>[(s(!0),n(c,null,w(t.value,f=>(s(),S(A,{key:f.id,item:f,color:f.amount<0?"red":"blue",onMore:Be=>e(M).push({name:"Detail",query:{type:"edit",id:f.id}})},null,8,["item","color","onMore"]))),128))]),_:2},1032,["class"])]))),128))],64)):e(p)==="account"?(s(),n(c,{key:1},[l(y,{header:!1},{default:i(()=>[o("ul",null,[o("li",xe,[Ae,o("div",Le,m(e(N)),1)]),o("li",Se,[De,o("div",Me,m(e(z)),1)])])]),_:1}),l(y,{header:!1,class:"padding-small"},{default:i(()=>[(s(!0),n(c,null,w(e(I),t=>(s(),S(A,{key:t.id,item:t,onClick:f=>e(R)(t.id)},null,8,["item","onClick"]))),128)),ne((s(),n("div",{class:"add",onClick:a[0]||(a[0]=(...t)=>e(x)&&e(x)(...t))},[l(H,{name:"plus",class:"add__icon"})])),[[J]])]),_:1})],64)):oe("",!0),l(L,{show:e(u).status,"onUpdate:show":a[3]||(a[3]=t=>e(u).status=t),onConfirm:e(q)},{default:i(()=>[l(C,{placeholder:"请输入新的账户名",modelValue:e(u).name,"onUpdate:modelValue":a[1]||(a[1]=t=>e(u).name=t)},null,8,["modelValue"]),l(C,{placeholder:"请输入余额",type:"number",modelValue:e(u).amount,"onUpdate:modelValue":a[2]||(a[2]=t=>e(u).amount=t),modelModifiers:{number:!0}},null,8,["modelValue"]),l(T,{text:"",outline:"",type:"primary",size:"mini",onClick:e(F)},{default:i(()=>[de("删除")]),_:1},8,["onClick"])]),_:1},8,["show","onConfirm"]),l(L,{show:e(_).status,"onUpdate:show":a[6]||(a[6]=t=>e(_).status=t),onConfirm:e(E)},{default:i(()=>[l(C,{placeholder:"请输入新的账户名",modelValue:e(_).name,"onUpdate:modelValue":a[4]||(a[4]=t=>e(_).name=t)},null,8,["modelValue"]),l(C,{placeholder:"请输入余额",type:"number",modelValue:e(_).amount,"onUpdate:modelValue":a[5]||(a[5]=t=>e(_).amount=t),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["show","onConfirm"])])])],64)}}});const Je=ue(Ue,[["__scopeId","data-v-8fcf10f1"]]);export{Je as default};
